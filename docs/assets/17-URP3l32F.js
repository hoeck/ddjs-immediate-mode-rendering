import{t as R,_ as B,at as I,o as p,b as P,e as d,c as $,k as j,l as w,q as C,s as N,A as m}from"./modules/vue-BhYfuUkS.js";import{u as f,p as O,f as T}from"./slidev/context-C7IS-AQr.js";import{b as h,W as u}from"./index-BnNzGnf4.js";import{I as y}from"./slidev/default-C5-v8Rxg.js";import"./modules/shiki-DoU7puTF.js";const F={flex:"~",w:"min",border:"~ main rounded-md"},K={__name:"Example3",setup(k){f();let l;const s={ok:[!0,!0,!0]},a=R(null);function x(t,{x:e,y:o,width:n,height:r,label:c,onclick:E}){t.ctx.strokeRect(e,o,n,r),t.ctx.fillText(c,e+30,o+15),t.onclick.push(({offsetX:_,offsetY:i})=>{console.log("offsetY",i,"y",o,"y+h",o+r),_>e&&_<e+n&&i>o&&i<o+r&&E()})}function g(t,{children:e,height:o}){let n=1;for(let r=0;r<e.length;r++){const c=e[r];c(t,{y:n}),n+=o}}function v(t){g(t,{height:30,children:[0,1,2].map(e=>(o,{y:n})=>x(o,{x:1,y:n,width:100,height:20,label:s.ok[e]?`OK ${e}`:`NOT OK ${e}`,onclick:()=>{s.ok[e]=!s.ok[e]}}))})}function b(t,e){const o=[],n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),e({ctx:n,onclick:o}),t.onclick=r=>o.forEach(c=>c(r))}return B(()=>{const t=a.value;l=setInterval(()=>{b(t,v)},1/60*1e3)}),I(()=>{clearInterval(l)}),(t,e)=>(p(),P("div",F,[d("canvas",{style:{height:"200px"},ref_key:"canvasRef2",ref:a},null,512)]))}},L=h(K,[["__file","/home/erik/projects/ddjs-immediate-mode-rendering/components/Example3.vue"]]),V=d("h1",null,"FP ğŸ’•",-1),q={__name:"17",setup(k){return O(u),f(),(l,s)=>{const a=L;return p(),$(y,C(N(m(T)(m(u),16))),{default:j(()=>[V,w(a)]),_:1},16)}}},W=h(q,[["__file","/@slidev/slides/17.md"]]);export{W as default};
